<!DOCTYPE html>
<html class="ui-page-login">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <link href="css/mui.min.css" rel="stylesheet" />
    <style>
        .area {
            margin: 20px auto 0px auto;
        }

        .mui-input-group:first-child {
            margin-top: 20px;
        }

        .mui-input-group label {
            width: 22%;
        }

        .mui-input-row label ~ input,
        .mui-input-row label ~ select,
        .mui-input-row label ~ textarea {
            width: 78%;
        }

        .mui-checkbox input[type=checkbox],
        .mui-radio input[type=radio] {
            top: 6px;
        }

        .mui-content-padded {
            margin-top: 25px;
        }

        .mui-btn {
            padding: 10px;
        }
    </style>
</head>

<body>
    <header class="mui-bar mui-bar-nav">
        <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
        <h1 class="mui-title">注册</h1>
    </header>
    <div class="mui-content" id="content">
        <form class="mui-input-group">
            <div class="mui-input-row">
                <label>账号</label>
                <input v-model="user.name" id='account' type="text" class="mui-input-clear mui-input" placeholder="请输入账号">
            </div>
            <div class="mui-input-row">
                <label>密码</label>
                <input  v-model="user.password" id='password' type="password" class="mui-input-clear mui-input" placeholder="请输入密码">
            </div>
            <div class="mui-input-row">
                <label>确认</label>
                <input  v-model="user.confirmPassword" id='password_confirm' type="password" class="mui-input-clear mui-input" placeholder="请确认密码">
            </div>
            <div class="mui-input-row">
                <label>邮箱</label>
                <input  v-model="user.email" id='email' type="email" class="mui-input-clear mui-input" placeholder="请输入邮箱">
            </div>
        </form>
        <div class="mui-content-padded">
            <button id='reg' class="mui-btn mui-btn-block mui-btn-primary" v-on:click="register()">注册</button>
        </div>
    </div>
    <script src="js/mui.min.js"></script>
    <script src="js/vue.min.js"></script>
    <script src="js/vue-resource_1.5.1_vue-resource.min.js"></script>
    <script src="js/common.js"></script>
    <script>
        appendWindowOnload( function () {
            var Vm = new Vue({
                el: '#content',
                data: {
                    user: {
                        name: "",
                        password: "",
                        confirmPassword: "",
                        email: ""
                    }
                },
                methods: {
                    register: function () {
                        this.$http.put('/api/user', this.user).then(function (res) {
                            window.location.href = "/login.html";
                            console.log(res.body);
                        }, function (res) {
                            mui.toast(res.body);
                        });
                    }
                }
            });
        })
    </script>
</body>
</html>
